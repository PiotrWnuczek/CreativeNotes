(this.webpackJsonpcreativenotes=this.webpackJsonpcreativenotes||[]).push([[0],{448:function(e,t,n){"use strict";n.r(t);var a=n(9),c=n(0),r=n(40),s=n.n(r),i=n(11),o=n(27),l=n(19),u=n(79),j=n(82);n(449),n(450),n(439);j.a.initializeApp({apiKey:"AIzaSyA6NVtuNlis_SAytnYJZVYo5wCc2N6FGtY",authDomain:"creativenotes-app.firebaseapp.com",projectId:"creativenotes-app",storageBucket:"creativenotes-app.appspot.com",messagingSenderId:"486916899257",appId:"1:486916899257:web:3855e5717718f8a83bf668",measurementId:"G-LW5EEG920Q"}),j.a.analytics(),j.a.firestore().settings({timestampsInSnapshots:!0});var b,d,p,h,O,m,x,f,g=j.a,y={error:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN_SUCCESS":return console.log("signin success"),Object(a.a)(Object(a.a)({},e),{},{error:null});case"SIGNIN_ERROR":return console.log("signin error"),Object(a.a)(Object(a.a)({},e),{},{error:t.err.message});case"SIGNUP_SUCCESS":return console.log("signup success"),Object(a.a)(Object(a.a)({},e),{},{error:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(a.a)(Object(a.a)({},e),{},{error:t.err.message});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;default:return e}},C={notes:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_SUCCESS":return console.log(t.data),e;case"CREATE_ERROR":return console.log(t.err),e;case"UPDATE_SUCCESS":return console.log(t.data),e;case"UPDATE_ERROR":return console.log(t.err),e;case"REMOVE_SUCCESS":return console.log(t.id),e;case"REMOVE_ERROR":return console.log(t.err),e;default:return e}},N=Object(l.c)({auth:v,note:S,firebase:o.firebaseReducer,firestore:u.firestoreReducer}),E=n(241),R=n(28),I=n(29),w=n(23),F=n(12),U=n(452),_=n(453),A=n(456),G=n(458),k=n(2),P=Object(i.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{signout:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.signout,n=e.auth,a=e.profile;return Object(k.jsx)(A.a,{bg:"light",expand:"lg",children:Object(k.jsxs)(U.a,{children:[Object(k.jsx)(A.a.Brand,{as:w.b,to:"/",children:"CreativeNootebook"}),Object(k.jsx)(A.a.Toggle,{}),Object(k.jsxs)(A.a.Collapse,{className:"justify-content-end",children:[Object(k.jsxs)(G.a,{className:"mx-lg-3",children:[!n.uid&&Object(k.jsx)(G.a.Link,{as:w.c,to:"/signup",children:"Sign Up"}),!n.uid&&Object(k.jsx)(G.a.Link,{as:w.c,to:"/signin",children:"Sign In"}),n.uid&&Object(k.jsx)(G.a.Link,{as:w.c,to:"/create",children:"New Note"}),n.uid&&Object(k.jsx)(G.a.Link,{onClick:t,children:"Sign Out"})]}),n.uid&&Object(k.jsx)(_.a,{as:w.c,to:"/",children:a.initials})]})]})})})),L=n(454),T=n(247),V=n(110),D=n.n(V),z=n(459),B=function(e){var t=e.note;return Object(k.jsx)(z.a,{className:"m-4",children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:t.title}),Object(k.jsxs)(z.a.Subtitle,{children:["Created by: ",t.firstname," ",t.lastname]}),Object(k.jsxs)(z.a.Text,{children:["Created at: ",D()(t.createdat.toDate()).calendar()]})]})})},M=I.b.div(b||(b=Object(R.a)(["\n  text-align: center;\n"]))),J=I.b.h1(d||(d=Object(R.a)(["\n  font-size: 1.5rem;\n  text-transform: uppercase;\n  margin: 2rem;\n"]))),W=function(e){var t=e.personal;return t?Object(k.jsxs)(M,{className:"p-4",children:[Object(k.jsx)(J,{children:"Personal Notes"}),t&&t.map((function(e){return Object(k.jsx)(w.b,{to:"/personal/"+e.id,className:"text-reset text-decoration-none",children:Object(k.jsx)(B,{note:e})},e.id)}))]}):Object(k.jsx)("p",{className:"text-center",children:"loading..."})},Y=I.b.div(p||(p=Object(R.a)(["\n  text-align: center;\n"]))),H=I.b.h1(h||(h=Object(R.a)(["\n  font-size: 1.5rem;\n  text-transform: uppercase;\n  margin: 2rem;\n"]))),K=function(e){var t=e.social;return t?Object(k.jsxs)(Y,{className:"p-4",children:[Object(k.jsx)(H,{children:"Social Notes"}),t&&t.map((function(e){return Object(k.jsx)(w.b,{to:"/social/"+e.id,className:"text-reset text-decoration-none",children:Object(k.jsx)(B,{note:e})},e.id)}))]}):Object(k.jsx)("p",{className:"text-center",children:"loading..."})},Q=Object(l.d)(Object(i.b)((function(e){return{personal:e.firestore.ordered.personal,social:e.firestore.ordered.social,auth:e.firebase.auth}})),Object(o.firestoreConnect)((function(e){return[{collection:"users",doc:e.auth.uid,subcollections:[{collection:"notes"}],orderBy:["createdat","desc"],storeAs:"personal"},{collection:"notes",orderBy:["createdat","desc"],storeAs:"social"}]})))((function(e){var t=e.personal,n=e.social;return Object(k.jsxs)(L.a,{className:"m-0",children:[Object(k.jsx)(T.a,{md:6,children:Object(k.jsx)(W,{personal:t})}),Object(k.jsx)(T.a,{md:6,children:Object(k.jsx)(K,{social:n})})]})})),Z=function(e,t){return function(n,c,r){var s=(0,r.getFirestore)(),i=c().firebase.auth.uid,o=s.collection("users").doc(i).collection("notes"),l=s.collection("notes");("personal"===e.type?o:l).doc(t).update(Object(a.a)({},e)).then((function(){n({type:"UPDATE_SUCCESS",data:e})})).catch((function(e){n({type:"UPDATE_ERROR",err:e})}))}},q=n(457),X=n(32),$=I.b.h1(O||(O=Object(R.a)(["\n  font-size: 1.5rem;\n  text-transform: uppercase;\n  margin: 2rem 0;\n"]))),ee=Object(i.b)(null,(function(e){return{create:function(t){return e(function(e){return function(t,n,c){var r=(0,c.getFirestore)(),s=n().firebase.auth.uid,i=n().firebase.profile,o=r.collection("users").doc(s).collection("notes"),l=r.collection("notes");("personal"===e.type?o:l).add(Object(a.a)(Object(a.a)({},e),{},{firstname:i.firstname,lastname:i.lastname,authorid:s,createdat:new Date})).then((function(){t({type:"CREATE_SUCCESS",data:e})})).catch((function(e){t({type:"CREATE_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.create,n=e.history;return Object(k.jsxs)(U.a,{className:"py-4",children:[Object(k.jsx)($,{children:"Create new note"}),Object(k.jsx)(X.a,{initialValues:{title:"",description:"",type:"personal"},onSubmit:function(e,c){var r=c.resetForm;t(Object(a.a)(Object(a.a)({},e),{},{content:[]})),r(),n.push("/")},children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(k.jsxs)(q.a,{onSubmit:a,autoComplete:"off",children:[Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"Note Title"}),Object(k.jsx)(q.a.Control,{type:"text",name:"title",placeholder:"title",onChange:n,value:t.title})]}),Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"Note Description"}),Object(k.jsx)(q.a.Control,{type:"text",name:"description",placeholder:"description",as:"textarea",rows:7,onChange:n,value:t.description})]}),Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Check,{inline:!0,type:"radio",name:"type",id:"personal",label:"personal",value:"personal",onChange:n}),Object(k.jsx)(q.a.Check,{inline:!0,type:"radio",name:"type",id:"social",label:"social",value:"social",onChange:n})]}),Object(k.jsx)(_.a,{variant:"secondary",type:"submit",children:"Create"})]})}})]})})),te=n(56),ne=n(250),ae=n(41),ce=n(455),re=n(116),se=n(81),ie=function(e){var t=e.item,n=e.idx,a=e.updateItem,r=e.deleteItem,s=Object(c.useState)(!1),i=Object(te.a)(s,2),o=i[0],l=i[1];return Object(k.jsx)("div",{children:o?Object(k.jsx)(X.a,{initialValues:{content:t.content},onSubmit:function(e,t){var c=t.resetForm;a(e,n),l(!1),c()},children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(k.jsx)(q.a,{onSubmit:a,autoComplete:"off",children:Object(k.jsxs)(ce.a,{className:"mb-3",children:[Object(k.jsx)(q.a.Control,{autoFocus:!0,type:"text",name:"content",placeholder:"content",onChange:n,value:t.content}),Object(k.jsx)(_.a,{variant:"outline-secondary",type:"submit",children:"Save"})]})})}}):Object(k.jsxs)("h5",{className:"m-0 pb-2",children:["text"===t.type&&Object(k.jsx)(ae.a,{}),"todo"===t.type&&Object(k.jsx)(ae.d,{onClick:function(){return a({type:"done"},n)},className:"pointer"}),"done"===t.type&&Object(k.jsx)(ae.c,{onClick:function(){return a({type:"todo"},n)},className:"pointer"}),Object(k.jsx)("span",{className:"mx-2",children:t.content}),Object(k.jsx)(ae.b,{onClick:function(){return l(!0)},className:"pb-1 mx-2 pointer"}),Object(k.jsx)(ae.e,{onClick:function(){return r(n)},className:"pb-1 mx-2 pointer"})]})})},oe=Object(i.b)(null,(function(e){return{update:function(t,n){return e(Z(t,n))}}}))((function(e){var t=e.content,n=e.type,r=e.id,s=e.update,i=Object(c.useState)(Object(re.a)(t)),o=Object(te.a)(i,2),l=o[0],u=o[1];Object(c.useEffect)((function(){u(Object(re.a)(t))}),[t]);var j=function(e,c){s({content:t.map((function(t,n){return n===c?Object(a.a)(Object(a.a)({},t),e):t})),type:n},r)},b=function(e){s({content:t.filter((function(t,n){return n!==e})),type:n},r)};return Object(k.jsxs)("div",{children:[Object(k.jsx)(X.a,{initialValues:{content:"",type:"text"},onSubmit:function(e,a){var c=a.resetForm;s({content:[].concat(Object(re.a)(t),[e]),type:n},r),c()},children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(k.jsx)(q.a,{onSubmit:a,autoComplete:"off",children:Object(k.jsxs)(ce.a,{children:[Object(k.jsx)(q.a.Control,{type:"text",name:"content",placeholder:"content",as:"textarea",rows:2,onChange:n,value:t.content}),Object(k.jsx)(_.a,{onClick:function(){return t.type="text"},variant:"outline-secondary",type:"submit",children:"Add Text"}),Object(k.jsx)(_.a,{onClick:function(){return t.type="todo"},variant:"outline-secondary",type:"submit",children:"Add Todo"})]})})}}),Object(k.jsx)("br",{}),Object(k.jsx)(se.a,{onDragEnd:function(e){if(e.destination){var t=l,a=t.splice(e.source.index,1),c=Object(te.a)(a,1)[0];t.splice(e.destination.index,0,c),u(t),s({content:t,type:n},r)}},children:Object(k.jsx)(se.c,{droppableId:"droppable",children:function(e){return Object(k.jsxs)("div",Object(a.a)(Object(a.a)({},e.droppableProps),{},{ref:e.innerRef,children:[l.map((function(e,t){return Object(k.jsx)(se.b,{draggableId:e.content,index:t,children:function(n){return Object(k.jsx)("div",Object(a.a)(Object(a.a)(Object(a.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:Object(k.jsx)(ie,{idx:t,item:e,updateItem:j,deleteItem:b},t)}))}},e.content)})),e.placeholder]}))}})})]})})),le=["note","update","remove","history"],ue=Object(l.d)(Object(i.b)((function(e,t){var n=t.match.params.type,a=t.match.params.id,c=e.firestore.data.personal,r=e.firestore.data.social;return"personal"===n?{auth:e.firebase.auth,note:c&&c[a]}:{auth:e.firebase.auth,note:r&&r[a]}}),(function(e){return{update:function(t,n){return e(Z(t,n))},remove:function(t,n){return e(function(e,t){return function(n,a,c){var r=(0,c.getFirestore)(),s=a().firebase.auth.uid,i=r.collection("users").doc(s).collection("notes"),o=r.collection("notes");("personal"===e.type?i:o).doc(t).delete().then((function(){n({type:"REMOVE_SUCCESS",id:t})})).catch((function(e){n({type:"REMOVE_SUCCESS",err:e})}))}}(t,n))}}})),Object(o.firestoreConnect)((function(e){return[{collection:"users",doc:e.auth.uid,subcollections:[{collection:"notes"}],storeAs:"personal"},{collection:"notes",storeAs:"social"}]})))((function(e){var t=e.note,n=e.update,r=e.remove,s=e.history,i=Object(ne.a)(e,le).match.params.id,o=Object(c.useState)(!1),l=Object(te.a)(o,2),u=l[0],j=l[1];return t?Object(k.jsxs)(U.a,{className:"py-4",children:["title"===u?Object(k.jsx)(X.a,{initialValues:{title:t.title},onSubmit:function(e,c){var r=c.resetForm;n(Object(a.a)(Object(a.a)({},e),{},{type:t.type}),i),j(!1),r()},children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(k.jsx)(q.a,{onSubmit:a,autoComplete:"off",children:Object(k.jsxs)(ce.a,{className:"mb-3",children:[Object(k.jsx)(q.a.Control,{autoFocus:!0,type:"text",name:"title",placeholder:"title",onChange:n,value:t.title}),Object(k.jsx)(_.a,{variant:"outline-secondary",type:"submit",children:"Save"})]})})}}):Object(k.jsxs)("h1",{children:[t.title,Object(k.jsx)(ae.b,{onClick:function(){return j("title")},className:"pb-2 mx-2 pointer"})]}),"description"===u?Object(k.jsx)(X.a,{initialValues:{description:t.description},onSubmit:function(e,c){var r=c.resetForm;n(Object(a.a)(Object(a.a)({},e),{},{type:t.type}),i),j(!1),r()},children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return Object(k.jsx)(q.a,{onSubmit:a,autoComplete:"off",children:Object(k.jsxs)(ce.a,{className:"mb-3",children:[Object(k.jsx)(q.a.Control,{autoFocus:!0,type:"text",name:"description",placeholder:"description",onChange:n,value:t.description}),Object(k.jsx)(_.a,{variant:"outline-secondary",type:"submit",children:"Save"})]})})}}):Object(k.jsxs)("h3",{children:[t.description,Object(k.jsx)(ae.b,{onClick:function(){return j("description")},className:"pb-2 mx-2 pointer"})]}),Object(k.jsxs)("h5",{children:[t.firstname," ",t.lastname," | ",D()(t.createdat.toDate()).calendar()]}),Object(k.jsx)("hr",{}),Object(k.jsx)(oe,{id:i,type:t.type,content:t.content}),Object(k.jsxs)("div",{className:"my-3",children:[Object(k.jsx)(_.a,{variant:"secondary",onClick:function(){return s.push("/")},children:"Close"})," "," ",Object(k.jsx)(_.a,{variant:"secondary",onClick:function(){r({type:t.type},i),s.push("/")},children:"Delete"})]})]}):Object(k.jsx)("p",{className:"text-center",children:"loading..."})})),je=function(e){var t=Object.assign({},e),n=Object(i.c)((function(e){return e.firebase.auth}));return Object(o.isLoaded)(n)&&!Object(o.isEmpty)(n)?Object(k.jsx)(F.b,Object(a.a)({},t)):Object(k.jsx)(F.a,{to:"/signin"})},be=I.b.h1(m||(m=Object(R.a)(["\n  font-size: 1.5rem;\n  text-transform: uppercase;\n  margin: 2rem 0;\n"]))),de=Object(i.b)((function(e){return{error:e.auth.error,auth:e.firebase.auth}}),(function(e){return{signin:function(t){return e(function(e){return function(t,n,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"SIGNIN_SUCCESS"})})).catch((function(e){t({type:"SIGNIN_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.signin,n=e.error;return e.auth.uid?Object(k.jsx)(F.a,{to:"/"}):Object(k.jsxs)(U.a,{className:"py-4",children:[Object(k.jsx)(be,{children:"Sign In"}),Object(k.jsx)(X.a,{initialValues:{email:"",password:""},onSubmit:function(e,n){var a=n.resetForm;t(e),a()},children:function(e){var t=e.values,a=e.handleChange,c=e.handleSubmit;return Object(k.jsxs)(q.a,{onSubmit:c,autoComplete:"off",children:[Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"Email"}),Object(k.jsx)(q.a.Control,{type:"email",name:"email",placeholder:"email",onChange:a,value:t.email})]}),Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"Password"}),Object(k.jsx)(q.a.Control,{type:"password",name:"password",placeholder:"password",onChange:a,value:t.password})]}),Object(k.jsx)(_.a,{variant:"secondary",type:"submit",children:"Sign In"}),n&&Object(k.jsx)("p",{className:"text-danger my-2",children:n})]})}})]})})),pe=I.b.h1(x||(x=Object(R.a)(["\n  font-size: 1.5rem;\n  text-transform: uppercase;\n  margin: 2rem 0;\n"]))),he=Object(i.b)((function(e){return{error:e.auth.error,auth:e.firebase.auth}}),(function(e){return{signup:function(t){return e(function(e){return function(t,n,a){var c=a.getFirebase,r=a.getFirestore,s=c(),i=r();s.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstname:e.firstname,lastname:e.lastname,initials:e.firstname[0]+e.lastname[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.signup,n=e.error;return e.auth.uid?Object(k.jsx)(F.a,{to:"/"}):Object(k.jsxs)(U.a,{className:"py-4",children:[Object(k.jsx)(pe,{children:"Sign Up"}),Object(k.jsx)(X.a,{initialValues:{email:"",password:"",firstname:"",lastname:""},onSubmit:function(e,n){var a=n.resetForm;t(e),a()},children:function(e){var t=e.values,a=e.handleChange,c=e.handleSubmit;return Object(k.jsxs)(q.a,{onSubmit:c,autoComplete:"off",children:[Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"Email"}),Object(k.jsx)(q.a.Control,{type:"email",name:"email",placeholder:"email",onChange:a,value:t.email})]}),Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"Password"}),Object(k.jsx)(q.a.Control,{type:"password",name:"password",placeholder:"password",onChange:a,value:t.password})]}),Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"First Name"}),Object(k.jsx)(q.a.Control,{type:"text",name:"firstname",placeholder:"firstname",onChange:a,value:t.firstname})]}),Object(k.jsxs)(q.a.Group,{className:"mb-3",children:[Object(k.jsx)(q.a.Label,{children:"Last Name"}),Object(k.jsx)(q.a.Control,{type:"text",name:"lastname",placeholder:"lastname",onChange:a,value:t.lastname})]}),Object(k.jsx)(_.a,{variant:"secondary",type:"submit",children:"Sign Up"}),n&&Object(k.jsx)("p",{className:"text-danger my-2",children:n})]})}})]})})),Oe=(n(447),Object(I.a)(f||(f=Object(R.a)(["\n  body {\n    margin: 0; padding: 0;\n    font-family: 'Lato';\n    overflow-x: hidden;\n  }\n  .pointer {\n    cursor: pointer;\n  }\n"])))),me=function(){return Object(k.jsxs)(w.a,{children:[Object(k.jsx)(Oe,{}),Object(k.jsx)(P,{}),Object(k.jsxs)(F.d,{children:[Object(k.jsx)(je,{exact:!0,path:"/",component:Q}),Object(k.jsx)(je,{path:"/create",component:ee}),Object(k.jsx)(je,{path:"/:type/:id",component:ue}),Object(k.jsx)(F.b,{path:"/signin",component:de}),Object(k.jsx)(F.b,{path:"/signup",component:he})]})]})},xe=Object(l.e)(N,Object(l.d)(Object(l.a)(E.a.withExtraArgument({getFirebase:o.getFirebase,getFirestore:u.getFirestore})))),fe={firebase:g,config:{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},dispatch:xe.dispatch,createFirestoreInstance:u.createFirestoreInstance},ge=function(e){var t=e.children,n=Object(i.c)((function(e){return e.firebase.auth}));return Object(o.isLoaded)(n)?t:Object(k.jsx)("p",{className:"text-center",children:"loading..."})};s.a.render(Object(k.jsx)(o.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},fe),{},{children:Object(k.jsx)(i.a,{store:xe,children:Object(k.jsx)(ge,{children:Object(k.jsx)(me,{})})})})),document.getElementById("root"))}},[[448,1,2]]]);
//# sourceMappingURL=main.849e2ce4.chunk.js.map